# Test task

Добрый день, уважаемый соискатель, данное задание нацелено на выявление вашего реального уровня в разработке на python, поэтому отнеситесь к нему, как к работе на проекте. Выполняйте его честно и проявите себя по максимуму, удачи! 
Напишите приложение, которое по REST принимает запрос вида
POST api/v1/wallets/<WALLET_UUID>/operation
{
operationType: DEPOSIT or WITHDRAW,
amount: 1000
}
после выполнять логику по изменению счета в базе данных
также есть возможность получить баланс кошелька
GET api/v1/wallets/{WALLET_UUID}
стек:
FastAPI / Flask / Django
Postgresql
Должны быть написаны миграции для базы данных с помощью liquibase (по желанию)
Обратите особое внимание проблемам при работе в конкурентной среде (1000 RPS по одному кошельку). Ни один запрос не должен быть не обработан (50Х error)
Предусмотрите соблюдение формата ответа для заведомо неверных запросов, когда кошелька не существует, не валидный json, или недостаточно средств.
приложение должно запускаться в докер контейнере, база данных тоже, вся система должна подниматься с помощью docker-compose
предусмотрите возможность настраивать различные параметры приложения и базы данных без пересборки контейнеров.
эндпоинты должны быть покрыты тестами.
Решенное задание залить на гитхаб, предоставить ссылку
Все возникающие вопросы по заданию решать самостоятельно, по своему усмотрению.

# Benchmark Results
### Summary

| Name | Min (ms) | Max (ms) | Mean (ms) | StdDev (ms) | Median (ms) | IQR (ms) | Outliers | OPS | Rounds | Iterations |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| test_perform_operation_1000_rps | 723.43 | 2509.04 | 960.15 | 162.92 | 935.80 | 231.46 | 322;9 | 1.04 | 1000 | 1 |

### Legend

* Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
* OPS: Operations Per Second, computed as 1 / Mean

### Test Summary

* **Passed:** 1
* **Skipped:** 8
* **Warnings:** 1
* **Total Time:** 965.53s (0:16:05)

# TODO
- [x] кейс, где число отрицательное
- [x] кейс, где айди кошелька не строка
- [x] проверка на наличие кошелька перед использованием session.merge
- [x] нет проверки на провальное подключение к ДБ
- [x] баланс кошелька не залочен
- [x] поменять wallet_id на WALLET_UUID
- [] привести структуру проекта в порядок и читаемый вид, упростить main функцию
- [x] чекнуть на sql-injection

- [x] тест на кейс с 1000 RPS
- [] докер для апи и ДБ
- [x] проверить покрытие эндпоинтов тестами